(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var r;e.g.importScripts&&(r=e.g.location+"");var n=e.g.document;if(!r&&n&&(n.currentScript&&(r=n.currentScript.src),!r)){var i=n.getElementsByTagName("script");i.length&&(r=i[i.length-1].src)}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=r+"../"})();const r={azathoth:e.p+"assets/Ancients/Azathoth.png",cthulhu:e.p+"assets/Ancients/Cthulthu.png",iogSothoth:e.p+"assets/Ancients/IogSothoth.png",shubNiggurath:e.p+"assets/Ancients/ShubNiggurath.png"},n=[{id:"azathoth",name:"azathoth",cardFace:r.azathoth,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:2,blueCards:0,brownCards:4}},{id:"cthulhu",name:"cthulhu",cardFace:r.cthulhu,firstStage:{greenCards:0,blueCards:2,brownCards:2},secondStage:{greenCards:1,blueCards:0,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"iogSothoth",name:"iogSothoth",cardFace:r.iogSothoth,firstStage:{greenCards:0,blueCards:1,brownCards:2},secondStage:{greenCards:2,blueCards:1,brownCards:3},thirdStage:{greenCards:3,blueCards:0,brownCards:4}},{id:"shubNiggurath",name:"shubNiggurath",cardFace:r.shubNiggurath,firstStage:{greenCards:1,blueCards:1,brownCards:2},secondStage:{greenCards:3,blueCards:1,brownCards:2},thirdStage:{greenCards:2,blueCards:0,brownCards:4}}],i={brown1:e.p+"assets/MythicCards/brown/brown1.png",brown2:e.p+"assets/MythicCards/brown/brown2.png",brown3:e.p+"assets/MythicCards/brown/brown3.png",brown4:e.p+"assets/MythicCards/brown/brown4.png",brown5:e.p+"assets/MythicCards/brown/brown5.png",brown6:e.p+"assets/MythicCards/brown/brown6.png",brown7:e.p+"assets/MythicCards/brown/brown7.png",brown8:e.p+"assets/MythicCards/brown/brown8.png",brown9:e.p+"assets/MythicCards/brown/brown9.png",brown10:e.p+"assets/MythicCards/brown/brown10.png",brown11:e.p+"assets/MythicCards/brown/brown11.png",brown12:e.p+"assets/MythicCards/brown/brown12.png",brown13:e.p+"assets/MythicCards/brown/brown13.png",brown14:e.p+"assets/MythicCards/brown/brown14.png",brown15:e.p+"assets/MythicCards/brown/brown15.png",brown16:e.p+"assets/MythicCards/brown/brown16.png",brown17:e.p+"assets/MythicCards/brown/brown17.png",brown18:e.p+"assets/MythicCards/brown/brown18.png",brown19:e.p+"assets/MythicCards/brown/brown19.png",brown20:e.p+"assets/MythicCards/brown/brown20.png",brown21:e.p+"assets/MythicCards/brown/brown21.png"},t=[{id:"brown1",cardFace:i.brown1,difficulty:"normal",color:"brown"},{id:"brown2",cardFace:i.brown2,difficulty:"normal",color:"brown"},{id:"brown3",cardFace:i.brown3,difficulty:"normal",color:"brown"},{id:"brown4",cardFace:i.brown4,difficulty:"normal",color:"brown"},{id:"brown5",cardFace:i.brown5,difficulty:"normal",color:"brown"},{id:"brown6",cardFace:i.brown6,difficulty:"hard",color:"brown"},{id:"brown7",cardFace:i.brown7,difficulty:"hard",color:"brown"},{id:"brown8",cardFace:i.brown8,difficulty:"hard",color:"brown"},{id:"brown9",cardFace:i.brown9,difficulty:"hard",color:"brown"},{id:"brown10",cardFace:i.brown10,difficulty:"hard",color:"brown"},{id:"brown11",cardFace:i.brown11,difficulty:"easy",color:"brown"},{id:"brown12",cardFace:i.brown12,difficulty:"easy",color:"brown"},{id:"brown13",cardFace:i.brown13,difficulty:"easy",color:"brown"},{id:"brown14",cardFace:i.brown14,difficulty:"easy",color:"brown"},{id:"brown15",cardFace:i.brown15,difficulty:"normal",color:"brown"},{id:"brown16",cardFace:i.brown16,difficulty:"normal",color:"brown"},{id:"brown17",cardFace:i.brown17,difficulty:"normal",color:"brown"},{id:"brown18",cardFace:i.brown18,difficulty:"normal",color:"brown"},{id:"brown19",cardFace:i.brown19,difficulty:"normal",color:"brown"},{id:"brown20",cardFace:i.brown20,difficulty:"normal",color:"brown"},{id:"brown21",cardFace:i.brown21,difficulty:"easy",color:"brown"}],s={blue1:e.p+"assets/MythicCards/blue/blue1.png",blue2:e.p+"assets/MythicCards/blue/blue2.png",blue3:e.p+"assets/MythicCards/blue/blue3.png",blue4:e.p+"assets/MythicCards/blue/blue4.png",blue5:e.p+"assets/MythicCards/blue/blue5.png",blue6:e.p+"assets/MythicCards/blue/blue6.png",blue7:e.p+"assets/MythicCards/blue/blue7.png",blue8:e.p+"assets/MythicCards/blue/blue8.png",blue9:e.p+"assets/MythicCards/blue/blue9.png",blue10:e.p+"assets/MythicCards/blue/blue10.png",blue11:e.p+"assets/MythicCards/blue/blue11.png",blue12:e.p+"assets/MythicCards/blue/blue12.png"},c=[{id:"blue1",cardFace:s.blue1,difficulty:"hard",color:"blue"},{id:"blue2",cardFace:s.blue2,difficulty:"hard",color:"blue"},{id:"blue3",cardFace:s.blue3,difficulty:"easy",color:"blue"},{id:"blue4",cardFace:s.blue4,difficulty:"easy",color:"blue"},{id:"blue5",cardFace:s.blue5,difficulty:"easy",color:"blue"},{id:"blue6",cardFace:s.blue6,difficulty:"hard",color:"blue"},{id:"blue7",cardFace:s.blue7,difficulty:"normal",color:"blue"},{id:"blue8",cardFace:s.blue8,difficulty:"hard",color:"blue"},{id:"blue9",cardFace:s.blue9,difficulty:"normal",color:"blue"},{id:"blue10",cardFace:s.blue10,difficulty:"easy",color:"blue"},{id:"blue11",cardFace:s.blue11,difficulty:"normal",color:"blue"},{id:"blue12",cardFace:s.blue12,difficulty:"normal",color:"blue"}],o={green1:e.p+"assets/MythicCards/green/green1.png",green2:e.p+"assets/MythicCards/green/green2.png",green3:e.p+"assets/MythicCards/green/green3.png",green4:e.p+"assets/MythicCards/green/green4.png",green5:e.p+"assets/MythicCards/green/green5.png",green6:e.p+"assets/MythicCards/green/green6.png",green7:e.p+"assets/MythicCards/green/green7.png",green8:e.p+"assets/MythicCards/green/green8.png",green9:e.p+"assets/MythicCards/green/green9.png",green10:e.p+"assets/MythicCards/green/green10.png",green11:e.p+"assets/MythicCards/green/green11.png",green12:e.p+"assets/MythicCards/green/green12.png",green13:e.p+"assets/MythicCards/green/green13.png",green14:e.p+"assets/MythicCards/green/green14.png",green15:e.p+"assets/MythicCards/green/green15.png",green16:e.p+"assets/MythicCards/green/green16.png",green17:e.p+"assets/MythicCards/green/green17.png",green18:e.p+"assets/MythicCards/green/green18.png"},l=[{id:"green1",cardFace:o.green1,difficulty:"easy",color:"green"},{id:"green2",cardFace:o.green2,difficulty:"hard",color:"green"},{id:"green3",cardFace:o.green3,difficulty:"hard",color:"green"},{id:"green4",cardFace:o.green4,difficulty:"hard",color:"green"},{id:"green5",cardFace:o.green5,difficulty:"hard",color:"green"},{id:"green6",cardFace:o.green6,difficulty:"hard",color:"green"},{id:"green7",cardFace:o.green7,difficulty:"normal",color:"green"},{id:"green8",cardFace:o.green8,difficulty:"normal",color:"green"},{id:"green9",cardFace:o.green9,difficulty:"normal",color:"green"},{id:"green10",cardFace:o.green10,difficulty:"normal",color:"green"},{id:"green11",cardFace:o.green11,difficulty:"normal",color:"green"},{id:"green12",cardFace:o.green12,difficulty:"easy",color:"green"},{id:"green13",cardFace:o.green13,difficulty:"normal",color:"green"},{id:"green14",cardFace:o.green14,difficulty:"normal",color:"green"},{id:"green15",cardFace:o.green15,difficulty:"normal",color:"green"},{id:"green16",cardFace:o.green16,difficulty:"easy",color:"green"},{id:"green17",cardFace:o.green17,difficulty:"easy",color:"green"},{id:"green18",cardFace:o.green18,difficulty:"easy",color:"green"}];function a(e){let r,n,i=JSON.parse(JSON.stringify(e));for(let e=i.length-1;e>0;e--)n=Math.floor(Math.random()*(e+1)),r=i[e],i[e]=i[n],i[n]=r;return i}function d(e,r){return e.filter((e=>e.difficulty==r))}function b(e){function r(r){const i=n[e];return i.firstStage[r]+i.secondStage[r]+i.thirdStage[r]}return[r("greenCards"),r("blueCards"),r("brownCards")]}function u(e,r){let i=[],t=[],s=[];const c=n[r];function o(r,n){let o=[];for(let n=0;n<e.length;n++)e[n].color==r&&o.push(e[n]);let l=o.splice(0,c.firstStage[n]),a=o.splice(0,c.secondStage[n]),d=o.splice(0,c.thirdStage[n]);i=i.concat(l),t=t.concat(a),s=s.concat(d)}return o("green","greenCards"),o("blue","blueCards"),o("brown","brownCards"),i=a(i),t=a(t),s=a(s),console.log([i,t,s]),[i,t,s]}let g;const h=document.querySelector(".ancients"),y=document.querySelector(".your-ancient"),f=document.querySelector(".difficulties"),p=document.querySelector(".diff-text"),w=document.querySelector(".diff-value"),m=document.querySelector(".cards-container"),v=document.querySelector(".card-up_bg");function C(e,r){m.children[1].children[r-1].children[0].innerHTML=n[g][e].greenCards,m.children[1].children[r-1].children[1].innerHTML=n[g][e].brownCards,m.children[1].children[r-1].children[2].innerHTML=n[g][e].blueCards}function L(){setTimeout((()=>{f.style.visibility="visible",f.children[0].style.visibility="visible",f.children[0].classList.add("item-on")}),2e3),setTimeout((()=>{f.children[1].style.visibility="visible",f.children[1].classList.add("item-on")}),2500),setTimeout((()=>{f.children[2].style.visibility="visible",f.children[2].classList.add("item-on"),y.classList.remove("item-on")}),3e3),setTimeout((()=>{f.children[3].style.visibility="visible",f.children[3].classList.add("item-on")}),3500),setTimeout((()=>{f.children[4].style.visibility="visible",f.children[4].classList.add("item-on")}),4e3),setTimeout((()=>{p.style.visibility="visible",p.classList.add("item-on"),y.addEventListener("click",(()=>{T(),F(),E(),S(),setTimeout((()=>{M()}),1900)}))}),4500)}function M(){h.style.opacity="1",h.classList.add("item-on"),h.style.visibility="visible",setTimeout((()=>{h.classList.remove("item-on")}),1900)}h.children[0].addEventListener("click",(()=>{g=0,y.style.width="443px",w.style.width="443px",y.style.backgroundImage="url('./assets/Ancients/Azathoth.png')"})),h.children[1].addEventListener("click",(()=>{g=1,y.style.width="436px",w.style.width="436px",y.style.backgroundImage="url('./assets/Ancients/Cthulthu.png')"})),h.children[2].addEventListener("click",(()=>{g=2,y.style.width="438px",w.style.width="438px",y.style.backgroundImage="url('./assets/Ancients/IogSothoth.png')"})),h.children[3].addEventListener("click",(()=>{g=3,y.style.width="440px",w.style.width="440px",y.style.backgroundImage="url('./assets/Ancients/ShubNiggurath.png')"}));for(let e of h.children)e.addEventListener("click",(()=>{h.classList.remove("item-on"),h.classList.add("item-off"),setTimeout((()=>{h.style.opacity="0",h.style.visibility="hidden",h.classList.remove("item-off")}),1900),setTimeout((()=>{setTimeout((()=>{y.style.visibility="visible",y.classList.add("item-on"),setTimeout((()=>{y.style.opacity="1"}),1900)}),1e3),L()}),1e3)}));function F(){w.classList.add("item-off"),setTimeout((()=>{w.style.visibility="hidden",w.style.opacity="0",w.classList.remove("item-off")}),1900)}function T(){m.classList.remove("item-on"),m.classList.add("item-off"),setTimeout((()=>{m.style.visibility="hidden",m.style.opacity="0",m.classList.remove("item-off"),H=0,x=0,A=!1;for(let e of m.children[2].children)for(let r of e.children)r.style.background="rgba(87, 87, 87, 0.267)";m.children[0].style.alignItems="flex-start"}),1900)}function S(){y.classList.add("item-off"),setTimeout((()=>{y.style.visibility="hidden",y.style.opacity="0",y.classList.remove("item-off")}),1900)}function E(){f.classList.add("item-off"),f.classList.remove("item-on"),p.classList.add("item-off"),p.classList.remove("item-on"),setTimeout((()=>{f.style.visibility="hidden",p.style.visibility="hidden";for(let e of f.children)e.style.visibility="hidden",e.classList.remove("item-on");p.classList.remove("item-off"),f.classList.remove("item-off")}),1900)}w.addEventListener("click",(()=>{T(),F(),L()})),f.children[0].addEventListener("mouseenter",(()=>{p.innerHTML="Где это я? Что я здесь делаю?<br /><br />Я не хочу быть здесь.<br /><br />Пожалуйста, помогите.<br /><br />Мне очень плохо.<br /><br />Я хочу побыстрее уйти отсюда."})),f.children[0].addEventListener("mouseleave",(()=>{p.innerHTML=""})),f.children[1].addEventListener("mouseenter",(()=>{p.innerHTML="Ух ты! Интересное место.<br /><br />Здесь, конечно, красиво, но жутковато.<br /><br />Пожалуй, мне лучше вести себя осторожно.<br /><br />Хотя что может случиться?<br /><br />Я гляну одним глазком."})),f.children[1].addEventListener("mouseleave",(()=>{p.innerHTML=""})),f.children[2].addEventListener("mouseenter",(()=>{p.innerHTML="Оу, меня всегда завораживала мистика.<br /><br />Так здорово, что можно не бояться.<br /><br />Ведь это все не настоящее.<br /><br />Здесь мне ничто не угрожает.<br /><br />Ведь так?.."})),f.children[2].addEventListener("mouseleave",(()=>{p.innerHTML=""})),f.children[3].addEventListener("mouseenter",(()=>{p.innerHTML="Наконец-то острые ощущения!<br /><br />Терпеть не могу скучные фентези.<br /><br />Мне, конечно, страшно, но очень любопытно.<br /><br />Главное не показывать свой страх.<br /><br />Поехали!"})),f.children[3].addEventListener("mouseleave",(()=>{p.innerHTML=""})),f.children[4].addEventListener("mouseenter",(()=>{p.innerHTML="Что? Лавкрафт?<br /><br />Пфф, этим меня не удивишь.<br /><br />Думаете, тут что-то сможет испугать меня?<br /><br />Да я накеров на завтрак ем.<br /><br />Сейчас я покажу, кто здесь главный."})),f.children[4].addEventListener("mouseleave",(()=>{p.innerHTML=""}));for(let e=0;e<f.children.length;e++)f.children[e].addEventListener("click",(()=>{w.innerHTML=f.children[e].innerHTML,E(),C("firstStage",1),C("secondStage",2),C("thirdStage",3),w.style.visibility="visible",w.classList.add("item-on"),setTimeout((()=>{w.classList.remove("item-on"),w.style.opacity="1",m.style.visibility="visible",m.classList.add("item-on"),m.style.opacity="1"}),1900)}));let k=[];f.children[0].addEventListener("click",(()=>{k=u(function(e){const r=b(e);let n=[];function i(e,r){let n=[],i=d(e,"easy");if(i.length<r){const t=d(e,"normal");n=n.concat(i);const s=t.slice(n.length-r);n=n.concat(s),n=a(n)}else i=a(i),n=i.slice(-r);return n}return n=n.concat(i(l,r[0])).concat(i(c,r[1])).concat(i(t,r[2])),n=a(n),n}(g),g)})),f.children[1].addEventListener("click",(()=>{k=u(function(e){const r=b(e);let n=[];function i(e,r){let n=[];const i=d(e,"easy"),t=d(e,"normal");let s=i.concat(t);return s=a(s),n=s.slice(-r),n}return n=n.concat(i(l,r[0])).concat(i(c,r[1])).concat(i(t,r[2])),n=a(n),n}(g),g)})),f.children[2].addEventListener("click",(()=>{k=u(function(e){const r=b(e);let n=[];function i(e,r){let n=[];return n=a(e).slice(-r),n}return n=n.concat(i(l,r[0])).concat(i(c,r[1])).concat(i(t,r[2])),n=a(n),n}(g),g)})),f.children[3].addEventListener("click",(()=>{k=u(function(e){const r=b(e);let n=[];function i(e,r){let n=[];const i=d(e,"hard"),t=d(e,"normal");let s=i.concat(t);return s=a(s),n=s.slice(-r),n}return n=n.concat(i(l,r[0])).concat(i(c,r[1])).concat(i(t,r[2])),n=a(n),n}(g),g)})),f.children[4].addEventListener("click",(()=>{k=u(function(e){const r=b(e);let n=[];function i(e,r){let n=[],i=d(e,"hard");if(i.length<r){const t=d(e,"normal");n=n.concat(i);const s=t.slice(n.length-r);n=n.concat(s),n=a(n)}else i=a(i),n=i.slice(-r);return n}return n=n.concat(i(l,r[0])).concat(i(c,r[1])).concat(i(t,r[2])),n=a(n),n}(g),g)})),v.addEventListener("click",(()=>{v.classList.remove("popup-on"),v.classList.add("popup-off"),setTimeout((()=>{v.style.visibility="hidden"}),900)}));let H=0,x=0,A=!1;const I=document.querySelector(".end-deck_bg");m.children[0].children[0].addEventListener("click",(()=>{A?(I.style.opacity="0",I.style.visibility="visible",I.classList.add("item-on"),setTimeout((()=>{I.style.opacity="1",I.classList.remove("item-on"),I.children[1].opacity="0",I.children[1].style.visibility="visible",I.children[1].classList.add("popup-on"),setTimeout((()=>{I.children[1].style.opacity="1",I.children[1].classList.remove("popup-on")}),900)}),1900),I.children[1].addEventListener("click",(()=>{I.style.opacity="1",I.children[1].style.opacity="1",I.classList.add("popup-off"),I.children[1].classList.add("popup-off"),setTimeout((()=>{I.style.opacity="0",I.children[1].opacity="0",I.style.visibility="hidden",I.children[1].style.visibility="hidden",I.classList.remove("popup-off"),I.children[1].classList.remove("popup-off")}),1e3),T(),F(),E(),S(),setTimeout((()=>{M()}),1900)}))):function(){let e=k[x].pop();switch(m.children[2].children[x].children[H].style.background=`center / cover url(${e.cardFace})`,m.children[2].children[x].children[H].addEventListener("click",(()=>{v.classList.remove("popup-off"),v.classList.add("popup-on"),v.style.visibility="visible",v.children[0].children[0]&&v.children[0].children[0].remove();const r=new Image;r.src=e.cardFace,v.children[0].append(r)})),e.color){case"green":m.children[1].children[x].children[0].innerHTML=m.children[1].children[x].children[0].innerText-1;break;case"brown":m.children[1].children[x].children[1].innerHTML=m.children[1].children[x].children[1].innerText-1;break;case"blue":m.children[1].children[x].children[2].innerHTML=m.children[1].children[x].children[2].innerText-1}H++,0===k[x].length&&(x++,H=0,m.children[0].classList.add("popup-off"),setTimeout((()=>{m.children[0].style.alignItems=1===x?"center":2===x?"flex-end":"flex-start",m.children[0].classList.remove("popup-off"),m.children[0].classList.add("popup-on"),setTimeout((()=>{m.children[0].classList.remove("popup-on")}),1e3)}),1e3)),3===x&&(x=0,A=!A)}()}))})();